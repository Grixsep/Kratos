{
  "problem_data": {
    "parallel_type": "OpenMP",
    "echo_level": 0
  },
  "model_parts": [
    {
      "settings": {
        "model_part_name": "Structure",
        "domain_size": 3,
        "input_filename": "model_file"
      }
    }
  ],
  "analyses": [
    {
      "name": "primal_analysis",
      "type": "kratos_analysis_execution_policy",
      "settings": {
        "model_part_names": ["Structure"],
        "analysis_module": "KratosMultiphysics.StructuralMechanicsApplication",
        "analysis_type": "StructuralMechanicsAnalysis",
        "analysis_settings": {
          "@include_json": "primal_parameters.json"
        },
        "analysis_output_settings": {
          "nodal_solution_step_data_variables": [
            "DISPLACEMENT",
            "REACTION",
            "ROTATION",
            "VON_MISES_STRESS",
            "VOLUMETRIC_STRAIN",
            "REACTION_STRAIN"
          ],
          "nodal_data_value_variables": [],
          "element_data_value_variables": ["YOUNG_MODULUS"],
          "condition_data_value_variables": []
        }
      }
    }
  ],
  "controls": [
    {
      "name": "system_identification_control",
      "type": "material.material_properties_control_system_identification",
      "settings": {
        "model_part_names": ["Structure"],
        "control_variable_name": "YOUNG_MODULUS",
        "mapping_options": {
          "technique_sequence": [],
          "smoothing_technique": "element_node_element",
          "num_smoothing_iterations": 3,
          "exponential_mapping_exponent": 1.5
        }
      }
    }
  ],
  "responses": [
    {
      "name": "measurement_residual",
      "type": "measurement_residual_response_function",
      "settings": {
        "evaluated_model_part_names": ["Structure"],
        "primal_analysis_name": "primal_analysis",
        "adjoint_analysis_settings_file_name": "adjoint_parameters.json",
        "measurement_data_file": "measurement_data.json",
        "perturbation_size": 1e-8,
        "measurement_standard_deviation": 1.0
      }
    }
  ],
  "algorithm_settings": {
    "type": "algorithm_system_identification",
    "settings": {
      "echo_level": 0,
      "line_search": {
        "type": "poly_step",
        "init_step": 10,
        "gradient_scaling": "none",
        "degree_of_polynomial": 2,
        "step_damping": 1.0
      },
      "conv_settings": {
        "type": "max_iter",
        "max_iter": 100
      }
    },
    "controls": ["system_identification_control"],
    "objective": {
      "response_name": "measurement_residual",
      "type": "minimization",
      "scaling": 1.0
    }
  },
  "processes": {
    "kratos_processes": {},
    "optimization_data_processes": {
      "output_processes": [
        {
          "type": "optimization_problem_ascii_output_process",
          "module": "KratosMultiphysics.OptimizationApplication.processes",
          "settings": {
            "output_file_name": "iteration_summary.csv",
            "write_kratos_version": true,
            "write_time_stamp": true
          }
        },
        {
          "type": "optimization_problem_vtu_output_process",
          "module": "KratosMultiphysics.OptimizationApplication.processes",
          "settings": {
            "file_name": "<model_part_full_name>_<step>",
            "file_format": "binary",
            "write_deformed_configuration": false,
            "list_of_output_components": ["all"],
            "output_precision": 9,
            "output_interval": 1,
            "echo_level": 0
          }
        },
        {
          "type": "optimization_problem_plotly_output_process",
          "module": "KratosMultiphysics.OptimizationApplication.processes",
          "settings": {
            "display_plot": true,
            "write_html_output": true,
            "html_file_name": "iteration_summary",
            "plot_y_log_scale": true
          }
        }
      ]
    }
  }
}
